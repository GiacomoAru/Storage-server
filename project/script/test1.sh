#!/bin/bash

#avviamo il server
sleep 3 #attesa post avvio server

./client -h -p >./test1/out.txt 2>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt
./client -f ./ssocket.sk -p -t 200 -W ./test1/dir1/5MB.txt,./test1/dir1/50MB.txt -D ./test1/espulsi >>./test1/out.txt 2>>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt
./client -f ./ssocket.sk -p -t 200 -l ./test1/dir1/50MB.txt -w ./test1/dir1/dir2 0 >>./test1/out.txt 2>>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt
./client -f ./ssocket.sk -p -t 200 -r ./test1/dir1/dir2/dir3/textFile5.txt,./test1/dir1/dir2/dir4/scava_1.2.lua -d ./test1/letti >>./test1/out.txt 2>>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt
./client -f ./ssocket.sk -p -t 200 -R 8 -d ./test1/letti >>./test1/out.txt 2>>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt
./client -f ./ssocket.sk -p -t 200 -u ./test1/dir1/dir2/textFile7.txt,./test1/dir1/dir2/textFile3.txt >>./test1/out.txt 2>>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt
./client -f ./ssocket.sk -p -t 200 -l ./test1/dir1/dir2/textFile7.txt,./test1/dir1/dir2/textFile3.txt -c ./test1/dir1/dir2/textFile7.txt,./test1/dir1/dir2/textFile3.txt >>./test1/out.txt 2>>./test1/err.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/out.txt
echo -------------------------------------------------------------------------------------------------------------- >>./test1/err.txt

#invio di sighup al server
killall -s SIGHUP memcheck-amd64-
